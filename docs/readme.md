qubecalib は QuBE/QuEL を用いた量子制御実験のための Python ライブラリです。

# 開発の背景と経緯

qubecalib は阪大 QIQB の実験家の量子実験をサポートするために開発されました。量子制御装置 QuBE の複雑な LSI 設定の支援する仕組みや、複雑なパルスシーケンスを簡便に出力するための仕組みを備えています。

qubecalib は 2022/04 から開発が始まり、様々な改良を経て現在は v3 の運用が始まっています。開発の経緯と開発のポイントを列挙します。

- qubecalib (2022/04 - 2023/12)
    - Qube の複雑な LSI 設定をわかりやすくする
        - cli コマンドベースの LSI 設定ライブラリ qubelsi を backend として用いた
        - 装置目線で設定できるようなオブジェクトツリーを構築した
    - 複雑なパルス列を簡便に定義する
        - pulse モジュール - qiskit を参考にした左詰方式
- qubecalib v2 (2023/08 - 2024/06)
    - Qube の複雑な LSI 設定をわかりやすくする
        - 引き続き qubelsi を backend として用いた
    - 複雑なパルス列を簡便に定義する
        - neopulse モジュール - TeX などの文書レイアウトを模したパルス配置方式
- qubecalib v3 (2024/01 - )
    - Qube の複雑な LSI 設定をわかりやすくする
        - qubelsi から quel_ic_config へ変更（nco の状態取得が可能となるなど利点多数）
    - 複雑なパルス列を簡便に定義する
        - 改良された neopulse モジュール (neopulse+)
            - 内部構造の改善によるメンテナンス性の向上
            - qubex との親和性の高い記法を導入
            - 実験家目線での標的周波数の指定方法 (target)
    - 誤操作の防止・再現性の向上
        - 【課題】測定内容とは関係ない装置を誤って操作してしまう（実験の規模・ユーザーが拡大するにつれて発生）
            - 測定対象の target (標的周波数) と装置資源の対応データベースをあらかじめ定義し、実験家が装置を意識せずに利用できる仕組みを導入
                - 一方で装置開発などには装置目線での操作が依然として必要であるために、e7 を直接叩く API を用意した
        - 【課題】装置が意図しない状態になっていて信号が正しく出ないことがある
            - quel_ic_config の機能を活用して実行時の装置の状態に応じて WaveSequence, CaptureParam を設定
        - 【課題】情報が少なくて実験のデバッグがしにくい
            - 実験時の戻り値に box_config、バルスシーケンス中間形式、WaveSequence、CaptureParam を返すようにした


